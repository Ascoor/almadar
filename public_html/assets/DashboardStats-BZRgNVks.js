import{j as t,A as f,u as y,W as N,F as v,v as w,G as D,r as d}from"./pdf-D5yLTPdL.js";import{m as h,L as S,af as M}from"./index-BrCJu-Nk.js";import{H as I}from"./HomeSpinner-BkG0i-75.js";import"./react-UnWXGYuj.js";import"./vendor-CTvvdsW_.js";const $="/assets/contract-main-pejqExJ3.png",k="/assets/doce-icon-D_iVP-xc.png",F="/assets/procedure-icon-DPBQ-bIW.png",L=e=>{switch(e){case"دولي":return t.jsx(D,{className:"w-5 h-5 ml-2 text-accent"});case"محلي":return t.jsx(w,{className:"w-5 h-5 ml-2 text-primary"});case"تحقيقات":return t.jsx(v,{className:"w-5 h-5 ml-2 text-accent"});case"مشورة":return t.jsx(N,{className:"w-5 h-5 ml-2 text-primary"});case"من الشركة":return t.jsx(y,{className:"w-5 h-5 ml-2 text-accent"});case"ضد الشركة":return t.jsx(f,{className:"w-5 h-5 ml-2 text-primary"});default:return t.jsx(f,{className:"w-5 h-5 ml-2 text-muted-foreground"})}},P=({title:e,count:n,subcategories:o=[],imageSrc:a,delay:r=0})=>t.jsxs(h.div,{className:"flex items-center mb-6 w-full max-w-xs p-4 rounded-xl shadow-lg bg-gradient-secondary transition-transform transform hover:scale-105 mx-auto",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:r,duration:.5},children:[t.jsx("div",{className:"w-24 h-24 mr-4 rounded-full overflow-hidden shrink-0",children:t.jsx("img",{src:a,alt:e,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex flex-col w-full",children:[t.jsx("h2",{className:"text-center text-lg font-bold text-foreground",children:e}),t.jsxs("p",{className:"text-center text-sm font-semibold text-muted-foreground",children:["إجمالي ",n]}),t.jsx("div",{className:"mt-4 space-y-2",children:o.map(({title:l,count:c,to:i},s)=>t.jsx(h.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{delay:r+s*.2,duration:.5},children:t.jsxs(S,{to:i,className:"flex items-center justify-between px-3 py-2 rounded transition-all hover:bg-secondary/10",children:[L(l),t.jsx("span",{className:"ml-2 text-sm font-medium text-foreground",children:l}),t.jsx("span",{className:"ml-auto text-sm font-bold text-foreground",children:c})]})},l))})]})]});function C(){const[e,n]=d.useState(new Date);d.useEffect(()=>{const x=setInterval(()=>n(new Date),1e3);return()=>clearInterval(x)},[]);const o=e.getSeconds(),a=e.getMinutes(),r=e.getHours(),l=o*6,c=a*6,i=r%12*30+a/2,s={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",10:"١٠",11:"١١",12:"١٢"};return t.jsxs("div",{className:"relative w-32 h-32 md:w-36 md:h-36 mx-auto mt-4 rounded-full shadow-lg border-2 border-primary bg-gradient-primary transition-all duration-300",children:[t.jsx("div",{className:"absolute w-3 h-3 rounded-full top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 bg-foreground"}),t.jsx("div",{className:"absolute top-1/2 left-1/2 w-1 h-9 bg-destructive rounded-full origin-bottom z-10",style:{transform:`translate(-50%, -100%) rotate(${i}deg)`}}),t.jsx("div",{className:"absolute top-1/2 left-1/2 w-1 h-12 rounded-full origin-bottom z-10 bg-foreground",style:{transform:`translate(-50%, -100%) rotate(${c}deg)`}}),t.jsx("div",{className:"absolute top-1/2 left-1/2 w-0.5 h-14 bg-primary rounded-full origin-bottom z-10",style:{transform:`translate(-50%, -100%) rotate(${l}deg)`}}),[...Array(12)].map((x,m)=>{const u=(m+1)*30,g=40,j=50+g*Math.sin(u*Math.PI/180),b=50-g*Math.cos(u*Math.PI/180);return t.jsx("div",{className:"absolute text-xs md:text-sm font-bold text-foreground",style:{top:`${b}%`,left:`${j}%`,transform:"translate(-50%, -50%)"},children:s[m+1]},m)})]})}const E=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],W=["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"];function p(e){const n={0:"٠",1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩"};return e.toString().replace(/[0-9]/g,o=>n[o])}function z(){const[e,n]=d.useState(new Date);d.useEffect(()=>{const c=setInterval(()=>n(new Date),1e3);return()=>clearInterval(c)},[]);const o=p(e.getDate()),a=E[e.getMonth()],r=p(e.getFullYear()),l=W[e.getDay()];return t.jsx("div",{className:"flex justify-center",children:t.jsxs("div",{className:`
          flex flex-col items-center justify-center gap-2
          w-40 sm:w-44 lg:w-48       /* 👈 عرض متناسق ضيّق */
          h-64                       /* 👈 ارتفاع ثابت لطابع الطول */ 
        `,children:[t.jsx(C,{className:"text-3xl sm:text-4xl"}),t.jsxs("div",{className:"text-center mt-2",children:[t.jsx("h2",{className:"text-base sm:text-lg font-bold text-royal dark:text-gold-light mb-1",children:l}),t.jsx("p",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300",children:`${o} ${a} ${r}`})]})]})})}const q=()=>{const{data:e,isLoading:n,error:o}=M();if(n)return t.jsx("div",{className:"text-center pt-16 py-4",children:t.jsx(I,{})});if(o||!e?.data)return t.jsx("div",{className:"text-center py-4 text-red-500 font-bold",children:"فشل في تحميل البيانات"});const{contracts:a,litigations:r,investigations:l,legal_advices:c}=e.data,i=[{title:"التعاقدات",count:a.length,imageSrc:$,subcategories:[{title:"محلي",count:a.filter(s=>s.scope==="local").length,to:"/contracts?scope=local"},{title:"دولي",count:a.filter(s=>s.scope==="international").length,to:"/contracts?scope=international"}]},{title:"الرأي والفتوى",count:c.length,imageSrc:k,subcategories:[{title:"تحقيقات",count:l.length,to:"/legal/investigations"},{title:"مشورة",count:c.length,to:"/legal/legal-advices"}]},{title:"القضايا",count:r.length,imageSrc:F,subcategories:[{title:"من الشركة",count:r.filter(s=>s.scope==="from").length,to:"/legal/litigations?scope=from"},{title:"ضد الشركة",count:r.filter(s=>s.scope==="against").length,to:"/legal/litigations?scope=against"}]}];return t.jsxs("div",{className:"grid gap-2 sm:grid-cols-1 lg:grid-cols-2 xl:grid-cols-4",children:[t.jsx(z,{}),i.map(s=>t.jsx(P,{...s},s.title))]})};export{q as default};
