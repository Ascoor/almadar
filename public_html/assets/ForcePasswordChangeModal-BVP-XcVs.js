import{j as s}from"./pdf-_01J5l0m.js";import{a as t}from"./react-DxiZ5OBW.js";import{A as w,m as f,I as c,B as h,t as r,i as g}from"./index-C9wc903-.js";import"./vendor-CTvvdsW_.js";const N=({onClose:d})=>{const{user:o,updateUserContext:m}=t.useContext(w),[e,u]=t.useState(""),[n,x]=t.useState(""),[i,l]=t.useState(!1),p=async()=>{if(e!==n){r.error("كلمتا المرور غير متطابقتين");return}l(!0);try{await g(o.id,{password:e}),r.success("تم تحديث كلمة المرور بنجاح"),m({...o,password_changed:1}),d()}catch{r.error("فشل تغيير كلمة المرور")}finally{l(!1)}};return s.jsx(f.div,{className:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsxs("div",{className:"bg-white dark:bg-zinc-800 p-6 rounded-xl w-full max-w-md shadow-xl",children:[s.jsx("h2",{className:"text-lg font-bold mb-4 text-center text-red-600",children:"يرجى تغيير كلمة المرور"}),s.jsx(c,{type:"password",placeholder:"كلمة المرور الجديدة",value:e,onChange:a=>u(a.target.value),className:"mb-3"}),s.jsx(c,{type:"password",placeholder:"تأكيد كلمة المرور",value:n,onChange:a=>x(a.target.value),className:"mb-5"}),s.jsx(h,{disabled:i,onClick:p,className:"w-full",children:i?"جارٍ الحفظ...":"تحديث كلمة المرور"})]})})};export{N as default};
