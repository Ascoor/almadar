import{j as e}from"./pdf-_01J5l0m.js";import{a}from"./react-DxiZ5OBW.js";import{s as P,v as h,c as b}from"./index-C9wc903-.js";import"./vendor-CTvvdsW_.js";const A=()=>{const[r,m]=a.useState(""),[l,x]=a.useState(""),[t,j]=a.useState(""),[o,v]=a.useState(""),[n,g]=a.useState(""),{userId:i}=P(),[w,p]=a.useState(""),[c,d]=a.useState(!1),[y,f]=a.useState("success");a.useEffect(()=>{h.get(`${b.baseURL}/api/user/${i}`).then(s=>{const u=s.data;m(u.name),x(u.email),g(u.role)}).catch(s=>{console.error(s.response?.data)})},[i]);const N=()=>{const s={};r&&(s.name=r),l&&(s.email=l),n&&(s.role=n),t&&o&&t===o&&(s.password=t),h.put(`${b.baseURL}/api/user/${i}`,s).then(()=>{p("تم التحديث بنجاح"),f("success"),d(!0)}).catch(()=>{p("لم يتم تحديث البيانات"),f("danger"),d(!0)})};return a.useEffect(()=>{let s;return c&&(s=setTimeout(()=>{d(!1)},5e3)),()=>clearTimeout(s)},[c]),e.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-4",children:"تحديث الملف الشخصي"}),c&&e.jsx("div",{className:`p-4 rounded mb-4 ${y==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:w}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-gray-700 font-medium mb-2",children:"الاسم"}),e.jsx("input",{id:"name",type:"text",value:r,onChange:s=>m(s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"البريد الإلكتروني"}),e.jsx("input",{id:"email",type:"email",value:l,onChange:s=>x(s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-gray-700 font-medium mb-2",children:"كلمة المرور"}),e.jsx("input",{id:"password",type:"password",value:t,onChange:s=>j(s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-gray-700 font-medium mb-2",children:"تأكيد كلمة المرور"}),e.jsx("input",{id:"confirmPassword",type:"password",value:o,onChange:s=>v(s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-gray-700 font-medium mb-2",children:"الدور"}),e.jsxs("select",{id:"role",value:n,onChange:s=>g(s.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"اختر الدور"}),e.jsx("option",{value:"1",children:"مدير"}),e.jsx("option",{value:"2",children:"محامي"}),e.jsx("option",{value:"3",children:"مساعد"})]})]}),e.jsx("button",{type:"button",onClick:N,className:"w-full px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none",children:"تحديث الملف الشخصي"})]})]})};export{A as default};
