const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SectionHeader-DYN9xJld.js","assets/pdf-D5yLTPdL.js","assets/react-UnWXGYuj.js","assets/pdf-Du6EuK7o.css","assets/ContractsTable-DgPiXCSc.js","assets/TableComponent-oB2Hgwhz.js","assets/index-BrCJu-Nk.js","assets/vendor-CTvvdsW_.js","assets/index-DedVPPdE.css","assets/ModalCard-BQAsNCRr.js","assets/GlobalConfirmDeleteModal-POJBepxz.js"])))=>i.map(i=>d[i]);
import{o as y,y as f,z as u,m as o,C as g,_ as r}from"./index-BrCJu-Nk.js";import{r as a,j as t}from"./pdf-D5yLTPdL.js";import"./react-UnWXGYuj.js";import"./vendor-CTvvdsW_.js";const h="/assets/international-icon-DTaA3Y8j.png",j="/assets/local-icon-D9XXaZs1.png",v=a.lazy(()=>r(()=>import("./SectionHeader-DYN9xJld.js"),__vite__mapDeps([0,1,2,3]))),_=a.lazy(()=>r(()=>import("./ContractsTable-DgPiXCSc.js"),__vite__mapDeps([4,1,2,3,5,6,7,8,9,10])));function T(){const[s,c]=a.useState("local"),[l,d]=a.useState([]),n=y(),{data:i,isLoading:p,refetch:m}=f();a.useEffect(()=>{(async()=>{try{const e=await u();d(e?.data?.data||[])}catch{console.error("فشل جلب التصنيفات")}})()},[]);const x=i?.data?.data||[];return a.useEffect(()=>{i?.status===403&&n("/forbidden")},[i,n]),t.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[t.jsx(o.div,{initial:{opacity:0,y:-100},animate:{opacity:1,y:0},exit:{opacity:0,y:-40},transition:{type:"spring",stiffness:70,damping:14},children:t.jsx(a.Suspense,{fallback:t.jsx("div",{className:"text-center text-sm",children:"تحميل العنوان..."}),children:t.jsx(v,{icon:s==="local"?j:h,listName:s==="local"?"العقود المحلية":"العقود الدولية"})})},"header"),t.jsx("div",{className:"flex justify-center gap-4",children:["local","international"].map(e=>t.jsx("button",{onClick:()=>c(e),className:`px-6 py-2 text-sm font-bold transition border rounded-full ${s===e?"bg-primary text-primary-foreground":"border-primary text-primary hover:bg-primary/10"}`,children:e==="local"?"العقود المحلية":"العقود الدولية"},e))}),t.jsx("div",{className:"mt-6 min-h-[300px]",children:t.jsx(g,{mode:"wait",children:t.jsx(o.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:60},transition:{type:"spring",stiffness:60,damping:14,delay:.1},className:"rounded-xl bg-card text-card-foreground p-4 shadow-md",children:t.jsx(a.Suspense,{fallback:t.jsx("div",{className:"text-center text-sm",children:"جاري تحميل الجدول..."}),children:t.jsx(_,{contracts:x,categories:l,reloadContracts:m,scope:s,loading:p})})},s)})})]})}export{T as default};
