import{j as s,G as x,v as m,W as g,F as u,w as h,x as p}from"./pdf-D5yLTPdL.js";import{v as j,ag as f,ah as v}from"./index-BrCJu-Nk.js";import{C as b,a as N,b as y,c as _}from"./card-DrA5FRIg.js";import{H as C}from"./HomeSpinner-BkG0i-75.js";import"./react-UnWXGYuj.js";import"./vendor-CTvvdsW_.js";const w=f("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:t,variant:r,...a}){return s.jsx("div",{className:j(w({variant:r}),t),...a})}const F=t=>({local:"محلي",international:"دولي",from:"من الشركة",against:"ضد الشركة"})[t]||t,d=(t,r)=>({contracts:{active:"نشط",expired:"منتهٍ",terminated:"ملغي",pending:"معلق",cancelled:"ملغى"},investigation_actions:{pending:"معلق",done:"مكتمل",cancelled:"ملغى",in_review:"قيد المراجعة"},litigation_actions:{pending:"معلق",done:"مكتمل",cancelled:"ملغى",in_review:"قيد المراجعة"}})[r]?.[t]||t,I=t=>{const a={"أحدث العقود المضافة":u,"أحدث العقود المحدثة":g,"أحدث إجراءات التحقيقات":m,"أحدث إجراءات القضايا":x}[t]||h;return s.jsx(a,{className:"text-3xl text-primary"})},n=({title:t,items:r,type:a})=>{const c=I(t);return s.jsxs(b,{className:"bg-card border border-border shadow-md hover:shadow-xl transition-all",children:[s.jsx(N,{className:"bg-secondary/30 border-b border-border",children:s.jsxs(y,{className:"flex items-center gap-2 text-lg font-bold text-card-foreground",children:[c,t]})}),s.jsx(_,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-right text-sm",children:[s.jsx("thead",{className:"bg-secondary/50 text-foreground",children:s.jsxs("tr",{children:[a==="contracts"&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"p-2",children:"رقم العقد"}),s.jsx("th",{className:"p-2",children:"اسم الشركة"}),s.jsx("th",{className:"p-2",children:"نوع العقد"}),s.jsx("th",{className:"p-2",children:"تاريخ البدء"}),s.jsx("th",{className:"p-2",children:"الحالة"})]}),["investigation_actions","litigation_actions"].includes(a)&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"p-2",children:"نوع الإجراء"}),s.jsx("th",{className:"p-2",children:"الطلبات"}),s.jsx("th",{className:"p-2",children:"النتيجة"}),s.jsx("th",{className:"p-2",children:"تاريخ الإجراء"}),s.jsx("th",{className:"p-2",children:"الحالة"})]})]})}),s.jsx("tbody",{className:"divide-y divide-border",children:r.map(e=>s.jsxs("tr",{className:"transition hover:bg-muted",children:[a==="contracts"&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"p-2",children:e.number}),s.jsx("td",{className:"p-2",children:e.contract_parties}),s.jsx("td",{className:"p-2",children:F(e.scope)}),s.jsx("td",{className:"p-2",children:e.start_date}),s.jsx("td",{className:"p-2",children:s.jsx(i,{className:`px-2 py-1 text-xs rounded-full ${e.status==="active"?"bg-success text-success-foreground":"bg-destructive text-destructive-foreground"}`,children:d(e.status,a)})})]}),["investigation_actions","litigation_actions"].includes(a)&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"p-2",children:e.action_type?.action_name}),s.jsx("td",{className:"p-2",children:e.requirements}),s.jsx("td",{className:"p-2",children:e.results}),s.jsx("td",{className:"p-2",children:e.action_date}),s.jsx("td",{className:"p-2",children:s.jsx(i,{className:`px-2 py-1 text-xs rounded-full ${e.status==="done"?"bg-success text-success-foreground":"bg-destructive text-destructive-foreground"}`,children:d(e.status,a)})})]})]},e.id))})]})})})]})},E=()=>{const{data:t,isLoading:r,isError:a}=v(),{latestAddedContracts:c=[],latestUpdatedContracts:e=[],latestInvestigationActions:o=[],latestLitigationActions:l=[]}=t||{};return r?s.jsx("div",{className:"text-center pt-16 py-4",children:s.jsx(C,{})}):a?s.jsx("div",{className:"text-center py-4 text-red-500 font-bold",children:"فشل في تحميل البيانات"}):s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:[s.jsx(n,{title:"أحدث العقود المضافة",items:c,type:"contracts",icon:s.jsx(p,{})}),s.jsx(n,{title:"أحدث العقود المحدثة",items:e,type:"contracts"}),s.jsx(n,{title:"أحدث إجراءات التحقيقات",items:o,type:"investigation_actions"}),s.jsx(n,{title:"أحدث إجراءات القضايا",items:l,type:"litigation_actions"})]})};export{E as default};
