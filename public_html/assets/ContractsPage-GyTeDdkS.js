const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SectionHeader-CPTYPmPH.js","assets/pdf-_01J5l0m.js","assets/react-DxiZ5OBW.js","assets/pdf-Du6EuK7o.css","assets/ContractsTable-YppIzFTb.js","assets/TableComponent-oKqWs0n5.js","assets/index-C9wc903-.js","assets/vendor-CTvvdsW_.js","assets/index-Dt2JeuVK.css","assets/ModalCard-Bqi_hoDA.js","assets/GlobalConfirmDeleteModal-DPvq9hXw.js"])))=>i.map(i=>d[i]);
import{o as f,b as u,w as g,x as h,m as n,y as j,_ as r}from"./index-C9wc903-.js";import{j as t}from"./pdf-_01J5l0m.js";import{a}from"./react-DxiZ5OBW.js";import"./vendor-CTvvdsW_.js";const v="/assets/international-icon-DTaA3Y8j.png",_="/assets/local-icon-D9XXaZs1.png",b=a.lazy(()=>r(()=>import("./SectionHeader-CPTYPmPH.js"),__vite__mapDeps([0,1,2,3]))),N=a.lazy(()=>r(()=>import("./ContractsTable-YppIzFTb.js"),__vite__mapDeps([4,1,2,3,5,6,7,8,9,10])));function I(){const[s,c]=a.useState("local"),[l,d]=a.useState([]),o=f(),p=u(),{data:i,isLoading:m,refetch:x}=g();a.useEffect(()=>{(async()=>{try{const e=await h();d(e?.data?.data||[])}catch{console.error("فشل جلب التصنيفات")}})()},[]);const y=i?.data?.data||[];return a.useEffect(()=>{i?.status===403&&o("/forbidden")},[i,o]),t.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[t.jsx(n.div,{initial:{opacity:0,y:-100},animate:{opacity:1,y:0},exit:{opacity:0,y:-40},transition:{type:"spring",stiffness:70,damping:14},children:t.jsx(a.Suspense,{fallback:t.jsx("div",{className:"text-center text-sm",children:"تحميل العنوان..."}),children:t.jsx(b,{icon:s==="local"?_:v,listName:s==="local"?"العقود المحلية":"العقود الدولية"})})},"header"),t.jsx("div",{className:"flex justify-center gap-4",children:["local","international"].map(e=>t.jsx("button",{onClick:()=>c(e),className:`px-6 py-2 text-sm font-bold transition border rounded-full ${s===e?"bg-primary text-primary-foreground":"border-primary text-primary hover:bg-primary/10"}`,children:e==="local"?"العقود المحلية":"العقود الدولية"},e))}),t.jsx("div",{className:"mt-6 min-h-[300px]",children:t.jsx(j,{mode:"wait",children:t.jsx(n.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:60},transition:{type:"spring",stiffness:60,damping:14,delay:.1},className:"rounded-xl bg-card text-fg p-4 shadow-md",children:t.jsx(a.Suspense,{fallback:t.jsx("div",{className:"text-center text-sm",children:"جاري تحميل الجدول..."}),children:t.jsx(N,{contracts:y,categories:l,reloadContracts:x,scope:s,loading:m,autoOpen:p.state?.openModal})})},s)})})]})}export{I as default};
