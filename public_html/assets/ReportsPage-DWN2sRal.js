import{j as e}from"./pdf-_01J5l0m.js";import{a as s}from"./react-DxiZ5OBW.js";import{j as P,t as A}from"./index-C9wc903-.js";import"./vendor-CTvvdsW_.js";const k=()=>P.get("/api/reports-list"),G=()=>{const[x,m]=s.useState([]),[n,j]=s.useState(""),[r,v]=s.useState(""),[c,g]=s.useState(""),[o,b]=s.useState("all"),[d,N]=s.useState(""),[i,y]=s.useState(""),[h,C]=s.useState(""),[t,S]=s.useState("all");s.useEffect(()=>{(async()=>{try{const l=await k({searchTerm:n,startDate:r,endDate:c,contractType:o,employeeName:d,procedureType:i,caseStatus:h,selectedSection:t});m(l.data)}catch{A.error("فشل تحميل البيانات")}})()},[n,r,c,o,d,i,h,t]);const f=a=>j(a.target.value),p=a=>{const{name:l,value:u}=a.target;l==="startDate"?v(u):l==="endDate"&&g(u)},w=a=>S(a.target.value),D=a=>b(a.target.value),T=a=>N(a.target.value),E=a=>y(a.target.value),R=a=>C(a.target.value);return e.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-10",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"التقارير والإجراءات"}),e.jsx("div",{className:"space-y-4 mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("input",{type:"text",placeholder:"بحث عن اسم الشركة أو رقم العقد",value:n,onChange:f,className:"border p-2 rounded w-1/3"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{type:"date",name:"startDate",value:r,onChange:p,className:"border p-2 rounded"}),e.jsx("input",{type:"date",name:"endDate",value:c,onChange:p,className:"border p-2 rounded"}),e.jsxs("select",{value:t,onChange:w,className:"border p-2 rounded",children:[e.jsx("option",{value:"all",children:"كل الأقسام"}),e.jsx("option",{value:"contracts",children:"العقود"}),e.jsx("option",{value:"investigations",children:"التحقيقات"}),e.jsx("option",{value:"litigations",children:"القضايا"})]})]})]})}),t==="contracts"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{children:"فئة العقد"}),e.jsxs("select",{value:o,onChange:D,className:"border p-2 rounded w-full",children:[e.jsx("option",{value:"all",children:"الكل"}),e.jsx("option",{value:"local",children:"محلي"}),e.jsx("option",{value:"international",children:"دولي"})]})]})}),t==="investigations"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{children:"اسم الموظف"}),e.jsx("input",{type:"text",value:d,onChange:T,className:"border p-2 rounded w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"نوع الإجراء"}),e.jsx("input",{type:"text",value:i,onChange:E,className:"border p-2 rounded w-full"})]})]}),t==="litigations"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{children:"حالة الإجراء"}),e.jsxs("select",{value:h,onChange:R,className:"border p-2 rounded w-full",children:[e.jsx("option",{value:"",children:"الكل"}),e.jsx("option",{value:"pending",children:"معلق"}),e.jsx("option",{value:"completed",children:"مكتمل"}),e.jsx("option",{value:"cancelled",children:"ملغي"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"p-2 border",children:"اسم الشركة"}),e.jsx("th",{className:"p-2 border",children:"رقم العقد"}),e.jsx("th",{className:"p-2 border",children:"القسم"}),e.jsx("th",{className:"p-2 border",children:"تاريخ الإجراء"}),e.jsx("th",{className:"p-2 border",children:"تعليقات"})]})}),e.jsx("tbody",{children:x.map(a=>e.jsxs("tr",{className:"odd:bg-gray-50",children:[e.jsx("td",{className:"p-2 border",children:a.companyName}),e.jsx("td",{className:"p-2 border",children:a.contractNumber}),e.jsx("td",{className:"p-2 border",children:a.section}),e.jsx("td",{className:"p-2 border",children:a.actionDate}),e.jsx("td",{className:"p-2 border",children:a.comments})]},a.id))})]})})]})};export{G as default};
